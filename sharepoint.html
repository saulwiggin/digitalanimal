<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>My SharePoint Advocacy campaign</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

	<link rel="stylesheet" href="css/styles.css?v=1.0">
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<script src="C:\Users\Icarus\Documents\GitHub\amigo-js-sdk\src\sdk.js">
 
  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
      <script type="text/javascript">
        window.amigoData = {
    // Amigo data

    // Either sharepointName OR touchpointName
    // can be defined, not both.
    sharepointName: 'homepage_article',
    touchpointName: 'banner_view',

    // User-related data
    userId: 'uid1234',
    username: 'johnsmith58',
    email: 'john@smith.com',
    name: 'John Smith',
    facebookId: '1234',
    twitterId: '21361816e863217',

    shareChannel: 'twitter',    // only on token consumption,
    shareTokenAlias: 'dave123',  // only on token creation

    // Inside of the `metadata` property, you can define
    // any metadata about the Sharepoint or Touchpoint.
    metadata: {
        transaction: {
            currency: 'GBP',
            amount: 50.99
        },
        product: {
            id: 'GLP12345',
            name: 'Gibson Les Paul',
            colour: 'Tobacco Burst'
        },
        user: {
            twitter_id: '21361816e863217'
        },
        somethingElse: {
            myField: true,
            myOtherField: 'value'
        }
    }
}
    </script>
 <script type="text/javascript">
    window.amigoAsyncInit = function () {
        Amigo.init({
            apiKey: '60d0bdc98d7aa94aa3a84e80a4906eb44c5398250d55129508378e0cf2a26f25',
			autoSend: false,
			debug: true
        });
    };
	
    (function (d, s, id){
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = "//d22stxronnwc65.cloudfront.net/sdk-latest.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'amigo-jssdk'));
	
	
	var meta = [
    {
        sharepointName: 'swsharepoint',
        token: 'abcdef123456',
        alias: 'myalias',
        queryParamName: 'ast',
        abs: true
    }
	
]
console.log("hello " + meta.alias);
 </script>

</head>

<body>
<div ng-app="">

	<h2> Advocacy Sharepoint </h2>

  <script src="js/scripts.js"></script>

  <p> go to <a href="touchpoint.html"> TouchPoint </a> </p>
  
  <a href="touchpoint.html/login"> I advocate this message </a>
  
  <ul>
  <li> <a href="touchpoint.html" onclick="sharefacebook">Share by Facebook</a> </li>
  <li> <a href="touchpoint.html" onclick="shareemail" >Share by Email</a> </li>
  </ul>


<p>Enter Greeting Message : <input type="text" ng-model="greeting"></p>
  
    <h2> {{greeting}} {{meta.alias}}</h2>
	
  </form>
  

</div>
    
  </body>
  
  <script>
  
function sharefacebook() {
    
	Amigo.updateToken('9999', {
	shareChannel: 'facebook'
    userId: '9999',
    email: 'saulwiggin@googlemail.com',
    metadata: {
        username: 'saulwiggin' 
		}
	});
	
	$scope.username = Amigo.metadata.user.username
	
}
	
function shareemail() {
	
	Amigo.consumeToken('abc123', {
    shareChannel: 'email',
    metadata: {
        username: 'saulwiggin'
		}
	});
}
 
  </script>
</html>